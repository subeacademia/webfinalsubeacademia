<div class="p-4 md:p-6" [formGroup]="form">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
        <input formControlName="rol" placeholder="Tu rol actual (Ej: Jefe de Proyecto)" class="w-full p-2 border rounded">
        <select formControlName="industria" class="w-full p-2 border rounded">
            <option value="">Selecciona tu industria</option>
            @for (category of industries; track category.category) {
                <optgroup [label]="category.category">
                    @for (option of category.options; track option) {
                        <option [value]="option">{{ option }}</option>
                    }
                </optgroup>
            }
        </select>
    </div>
    <textarea formControlName="objetivo" rows="4" placeholder="Describe tu objetivo profesional principal..." class="w-full p-2 border rounded mb-4"></textarea>
    <button (click)="generarSugerencias()" [disabled]="isLoadingSuggestions() || !allFieldsFilled" class="w-full p-2 bg-blue-500 text-white rounded disabled:bg-gray-400">
        @if (isLoadingSuggestions()) {
            <span>Generando...</span>
        } @else {
            <span>Generar Sugerencias con IA</span>
        }
    </button>
    
    @if (sugerencias().length > 0) {
        <div class="mt-4">
            <h3 class="font-semibold mb-2">Sugerencias:</h3>
            <div class="space-y-2">
                @for (sug of sugerencias(); track sug) {
                    <div (click)="seleccionarSugerencia(sug)" class="p-3 border rounded hover:bg-gray-100 cursor-pointer">
                        {{ sug }}
                    </div>
                }
            </div>
        </div>
    }
    
    <!-- Botones de navegación -->
    <div class="mt-8 flex justify-between">
        <button (click)="previous()" 
                class="px-6 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors">
            ← Volver
        </button>
        <button (click)="next()" 
                [disabled]="form.invalid"
                class="px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors">
            Continuar →
        </button>
    </div>
</div>